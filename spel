#!/usr/bin/env node

const os = require('os')
const path = require('path')
const { spawn } = require('child_process')

const CONFIG_DIR = '.space-elevator'
const CONFIG_PATH = path.join(os.homedir(), CONFIG_DIR)

function help () {
  console.log('Usage: spel <provision|patchbay>')
}

function provision () {
  spawn('./provision', { stdio: 'inherit' })
}

function patchbay () {
  spawn('./patchbay', { stdio: 'inherit' })
}

function cleanup () {
  spawn('./cleanup', { stdio: 'inherit' })
}

async function main () {
  const cmd = process.argv[2]
  switch (cmd) {
    case 'provision':
      provision()
      break
    case 'patchbay':
      patchbay()
      break
    case 'cleanup':
      cleanup()
      break
    default:
      help()
      break
  }
}

main()
